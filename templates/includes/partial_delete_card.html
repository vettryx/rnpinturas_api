{# templates/includes/partial_delete_card.html #}

<div class="delete-card">
    <div class="delete-card-header">
        <i class="fas fa-exclamation-triangle"></i>
        <h2>{{ title }}</h2>
    </div>
    
    <div class="delete-card-body">
        <p>Você tem certeza que deseja remover o registro abaixo?</p>
        
        <span class="delete-object-name">
            "{{ object_name }}"
        </span>

        <p class="delete-warning-text">
            <i class="fas fa-info-circle"></i> Essa ação não poderá ser desfeita.
        </p>
    </div>

    <div class="delete-card-footer">
        {# A action fica vazia para postar na mesma URL que carregou o modal #}
        <form method="post" action="{{ request.path }}">
            {% csrf_token %}
            
            <div class="apps-delete-btn-group">
                {% for btn in buttons %}
                    {% if btn.type == 'submit' %}
                        <button type="submit" class="{{ btn.class }}">
                            {% if btn.icon %}<i class="{{ btn.icon }}"></i>{% endif %} {{ btn.text }}
                        </button>
                    {% else %}
                        {# O botão cancelar agora fecha o modal se estivermos num pop-up #}
                        <button type="button" class="{{ btn.class }} btn-close-modal" data-url="{{ btn.url }}">
                            {{ btn.text }}
                        </button>
                    {% endif %}
                {% endfor %}
            </div>
        </form>
    </div>
</div>